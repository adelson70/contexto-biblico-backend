generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model comentarios {
  id        Int      @id @default(autoincrement())
  livroSlug String
  capitulo  Int
  versiculo Int
  texto     String
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  isDeleted Boolean  @default(false)

  @@index([isDeleted])
  @@index([livroSlug, capitulo, versiculo])
}

model pesquisas {
  id             Int      @id @default(autoincrement())
  nome_livro     String
  ip             String
  createdAt      DateTime @default(now())
  capitulo_livro String

  @@index([nome_livro])
}

model referencias {
  id         Int      @id @default(autoincrement())
  livroSlug  String
  capitulo   Int
  versiculo  Int
  referencia String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @default(now())
  isDeleted  Boolean  @default(false)

  @@index([isDeleted])
  @@index([livroSlug, capitulo, versiculo])
}

model usuarios {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  nome      String?
  senha     String
  is_admin  Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  isDeleted Boolean  @default(false)

  @@index([email])
  @@index([isDeleted])
  @@index([is_admin])
}
